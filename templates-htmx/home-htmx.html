{% extends "layout.html" %}

{% block title %}Recipe Browser{% endblock %}

{% block content %}
<h1>Recipe Browser</h1>
<p><a href="#"
       hx-get="{{ url_for('list_recipes', page=page) }}"
       hx-target="#recipe-list"
       hx-on::after-request="document.getElementById('search-input').value = ''">Browse {{ total_recipes }} recipes</a></p>

<div id="search" class="search-box">
    <input id="search-input" type="search"
           name="q"
           placeholder="Search recipes..."
           hx-get="{{ url_for('search_recipes') }}"
           hx-trigger="input changed delay:300ms, search"
           hx-target="#recipe-list">
</div>

<div id="recipe-list">
{% include "recipe_list_fragment.html" %}
</div>

{% endblock %}